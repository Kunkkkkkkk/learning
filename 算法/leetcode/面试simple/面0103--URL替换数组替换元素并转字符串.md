```java
import com.sun.xml.internal.ws.util.StringUtils;

import java.util.Arrays;

public class 替换指定字符URL化面试0103 {


    public static void main(String[] args) {
    String a = "hello world   ";
        System.out.println(replaceSpaces1(a,11));

    }


    /*URL化。编写一种方法，将字符串中的空格全部替换为%20。
    假定该字符串尾部有足够的空间存放新增字符，并且知道字符串的“真实”长度。
    把空格转成"20%" 注：用Java实现的话，请使用字符数组实现，以便直接在数组上操作。*/

    //难点：空格是前或者后不知道，不知道要删除哪个空格，先暂且认为多余的都是后面的吧
    public static String replaceSpaces1(String s, int length) {
        //先用拷贝数组
        String[] ls1 = s.split("");//不能直接replace因为空格算一个,20%是三个
        String[] ls2 = new String[length];//复制到一个指定长度数组里面，然后再换
        System.arraycopy(ls1, 0, ls2, 0, length);
        for (int i = 0; i < ls2.length; i++) {
            if(ls2[i].equals(" ")){
                ls2[i] = "%20";
            }
        }
        String str = String.join("", ls2);
        return str;

    }

}
```

##### 数组拷贝

System.arraycopy()

```
//该方法的声明
public static void arraycopy(Object src,
                             int srcPos,
                             Object dest,
                             int destPos,
                             int length)
//参数1,需要被复制的目标数组 //参数2,从目标数组的哪一个位置开始复制 //参数3,需要把数据复制到另外一个新的数组中 //参数4,把数据复制到新数组的时候，需要把数据从什么位置开始复制进去 //参数5,复制的目标数组的长度
```

##### 数组转字符串

String.join(" ",list)



方法二

```java
public static char[] replaceSpaces2(String S, int length) {
            char[] chs = S.toCharArray();
            int i = length-1, j = S.length()-1;
            // hello world...  当length为12时  j=13 i=11
            while(i>=0){
                if(chs[i]==' '){   //从指定长度开始
                    chs[j--] = '0';    //hello world%20
                    chs[j--] = '2';    //hello world%20
                    chs[j--] = '%';
                }else{
                    chs[j--] = chs[i];
                }
                i--;
            }
            return chs;
            /*String.valueOf(chs,j+1, S.length()-j-1);*/
        }
```

两个方法的时间复杂度和空间复杂度一致，都是O(n)，但是下面的步骤更简单，实际运行时间更短

##### String.valueOf(chs,j+1, S.length()-j-1)