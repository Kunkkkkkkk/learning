#### 分布式版本控制系统和集中式

##### 集中式：

即<u>本地客户端只保存当前的版本信息</u>，而所有东西都保存在一个中央服务器上。如果这个服务器一天崩溃了，那么所有的东西就丢失了。当你想进行回滚操作是时都得向服务器发出请求。

因为全在中央服务器上，所以会有一个版本号，每一次的版本迭代都会更新这个版本号。

##### 分布式：

即从主仓库里拉取一份代码到本地之后，个人的电脑就变成了一个“服务器”，每个人的电脑都是一个服务器，那么就没有固定统一的版本号。有一个master仓库，我们可以把本地的东西上传到（commit）本地仓库然后通过合并或者push到主仓库上。同样我们可以把个人的仓库分享给别人。

分布式（这里主要说的是git）有一个缓存区的概念

#### 安装git

mac

```shell
brew install git
```

linux/debian(ubuntu)

```shell
sudo apt install git
```



#### 关于配置

`git config --global`全局配置

设置邮箱和用户名，在遇到需要远程登入的仓库比如github时就会自动帮你填好，只需要输入密码

`git config --global user.name "Kunkkkkkkk"`

`git confif --global user.email "12321312@gmail.com"`

#### 本地仓库的操作

##### 1.创建

```shell
$cd /xx/xx/xx   #进入目标目录下
$git init    #会自动将当前仓库设置成master
```

在这个目录下会有一个隐藏文件夹 `.git`用普通的ls看不到，得 `ls -ah`

![image-20240808141558100](相关概念.assets/image-20240808141558100.png)

在这个文件夹下面就是git仓库的支架![image-20240808141645905](相关概念.assets/image-20240808141645905.png)



##### 2.提交到本地仓库

我们可以把文件放进去然后通过 `git add abc.md`即可以把abc.md提交到仓库的提交缓存里面，但是这时候不算提交成功，还需要添加修改的描述信息

`git commit -m "add abc.md "` 这里如果不用 -m会自动启动一个vim编辑器要你在里面写，都是一样的。

像删除操作，也只是放到暂存区

每一次提交会生成一个hashcode

然后提交了之后感觉这个message想改，可以 `git commit --amend`就能进入vim编辑器来更改上一次提交的.

`git log`可以查看提交记录，<u>前提是要进入你初始化本地仓库的文件夹里</u>

`git ls-files`可以查看该仓库里的所有文件

`git status`可以查看状态，其中几个

1.Changes not staged for commit:即仓库里的文件更改了但是还没commit 

2.Untracked files:即放了一个新的文件在仓库文件夹里面



##### 3.回滚

每一次commit会生成一个40位的hashcode，我们这里为了记忆只学【硬回滚】

硬回滚就是完全回滚到上一个提交，包括工作目录和暂存区的状态：

- **提交历史**：最新的提交会被撤销，HEAD指向上一个提交。
- **暂存区**：恢复到上一个提交的状态。
- **工作目录**：恢复到上一个提交的状态。

NoNoNo千万别用这个b硬回滚，导致我写这个文档的时候丢失了好多数据还好找回来了md

用默认的混合模式

- **提交历史**：最新的提交会被撤销，HEAD指向上一个提交。
- **暂存区**：恢复到上一个提交的状态。
- **工作目录**：不变

默认就是混合模式 `--mix`

![image-20240808151532715](相关概念.assets/image-20240808151532715.png)

如上，本来有10多条，往很前的一个版本回滚了，只剩几条历史记录了

方式1:`git reset  要回滚的 id`

方式2: `git reset  HEAD ^`这个 `^`就是向上，即往前一个版本回滚

`git reset  HEAD 数字` 就是向前回滚几个版本

#### 工作区缓存区

工作区就是你的本地文件夹，缓存区是上面展示的 `.git`隐藏文件夹底下的一个叫

`/index`的文件夹



